<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바오벗나무 지원하기</title>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://baobutnamu.github.io/recruiting">
    <meta property="og:title" content="바오벗나무 지원하기">
    <meta property="og:description" content="바오벗나무는 상시 팀원 모집 중! 함께하고 싶다면 언제든 지원하세요!">
    <meta property="og:site_name" content="바오벗나무 지원하기">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        html, body{
            text-align: center;
            font-family: 'Noto Sans KR', sans-serif !important;
            word-break: keep-all;
            /* background-color: rgb(255, 247, 246) */
        }
        form{
            display: inline-block;
            width: 80%;
        }
        .form-check{
            text-align: left;
        }
        #지원분야:disabled{
            background-color: #e8ecef;
        }
        .backgroundImage{
            opacity: 50%;
        }
        @media (prefers-color-scheme: dark){
            html, body{
                width: 100vw;
                overflow-y: auto;
                position: absolute;
                top: 0;
                bottom: 0;
                background-color: #181a1bcc;
            }
            h1, p{
                color: white;
            }
            .form-control{
                background-color: #212325;
            }
            .form-control:focus{
                background-color: #212325;
            }
            .form-control:disabled{
                background-color: #2c3031;
            }
            #지원분야:disabled{
                background-color: #2c3031;
            }
            .backgroundImage{
                opacity: 100%;
            }
            label{
                color: white;
            }
            a{
                color: white !important;
            }
            input{
                color: white !important;
            }
        }
    </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
        </symbol>
        <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
        </symbol>
        <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </symbol>
    </svg>
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">지원완료</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p style="color: black;">성공적으로 지원되셨습니다. 지원해주셔서 진심으로 감사드리며, 추후 입력하신 전화번호로 연락드리겠습니다. 감사합니다.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="failModal" tabindex="-1" aria-labelledby="failModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="background-color: #f5c2c8; border-radius: 4px;">
            <div class="alert alert-danger d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"/></svg>
                <div style="color: black;">알 수 없는 오류로 인해 지원에 실패했습니다.<br>baobutnamu@gmail.com으로 문의주시면 도와드리겠습니다.</div>
            </div>
        </div>
    </div>
    <br><br>
    <h1 style="font-weight: bold;">바오벗나무 지원하기</h1>
    <p style="width: 90%; display: inline-block;">성함과 전화번호, 지원 분야만 알려주시면 저희 리크루팅 팀에서 연락드리겠습니다!</p>
    <br><br>
    <form method="post" data-email="baobutnamu@gmail.com" action="https://script.google.com/macros/s/AKfycbxCigyXS1xLj-raWP7zcYhw8HzuP9n3fAWKfBkF/exec" id="form">
        <div class="form-floating mb-3">
            <input type="text" name="성함" class="form-control" id="성함" placeholder="홍길동" oninput="delError('#성함')" required>
            <label for="성함">성함<a style="color: rgb(217, 48, 37);"> *</a></label>
            <div class="invalid-feedback"></div>
        </div>
        <div class="form-floating mb-3">
            <input type="tel" name="전화번호" class="form-control" id="전화번호" placeholder="010-1234-5678" oninput="addDash()" required>
            <label for="전화번호">전화번호<a style="color: rgb(217, 48, 37);"> *</a></label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" name="이메일" class="form-control" id="이메일" placeholder="example@example.com">
            <label for="이메일">이메일</label>
        </div>
        <div class="form-floating mb-3">
            <input type="url" name="포트폴리오" class="form-control" id="포트폴리오" placeholder="https://github.com">
            <label for="포트폴리오">포트폴리오 URL (GitHub, Blog 등)</label>
        </div>
        <div class="form-floating mb-3">
            <div class="form-control" id="지원분야" style="height: fit-content;">
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="기획" id="기획" name="지원분야">
                    <label class="form-check-label" for="기획">기획</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="디자인(일러스트)" id="디자인(일러스트)" name="지원분야">
                    <label class="form-check-label" for="디자인(일러스트)">디자인(일러스트)</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="디자인(UI/UX)" id="디자인(UI/UX)" name="지원분야">
                    <label class="form-check-label" for="디자인(UI/UX)">디자인(UI/UX)</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="프론트엔드(웹)" id="프론트엔드(웹)" name="지원분야">
                    <label class="form-check-label" for="프론트엔드(웹)">프론트엔드(웹)</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="백엔드" id="백엔드" name="지원분야">
                    <label class="form-check-label" for="백엔드">백엔드</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="DB" id="DB" name="지원분야">
                    <label class="form-check-label" for="DB">DB</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="iOS" id="iOS" name="지원분야">
                    <label class="form-check-label" for="iOS">iOS</label>
                </div>
                <div class="form-check form-switch" onclick="delError('#지원분야');">
                    <input class="form-check-input" type="checkbox" value="Android" id="Android" name="지원분야">
                    <label class="form-check-label" for="Android">Android</label>
                </div>
            </div>
            <label for="지원분야">지원 분야<a style="color: rgb(217, 48, 37);"> *</a></label>
        </div>
        <div class="form-floating mb-3">
            <div class="form-control" id="개인정보처리방침" style="height: fit-content; text-align: left;">
                <div style="margin-top: 10px;">
                    <a>1. 본 지원서에 입력되는 모든 개인정보는 바오벗나무 지원만을 목적으로 하며, 이 목적 외의 다른 목적으로 이용되지 않습니다.</a><br>
                    <a>2. 본 지원서에 입력하시는 모든 개인정보는 지원자의 합격 여부가 결정된 후, 합격 시 탈퇴 시까지, 불합격 시 1주일 이내로 파기됩니다.</a><br>
                    <a>3. 개인정보처리에 관련하여 기타 문의가 있거나, 개인정보의 빠른 파기 등을 요청하고 싶으실 경우, baobutnamu@gmail.com으로 문의주시면 도와드리겠습니다.</a><br>
                    <div style="text-align: center; margin-bottom: 10px; margin-top: 10px;">
                        <div class="form-check" style="display: inline-block;" onclick="delError('#개인정보동의');">
                            <input class="form-check-input" type="checkbox" value="동의함" id="개인정보동의" name="개인정보동의" required>
                            <label class="form-check-label" for="개인정보동의">바오벗나무 지원에 관련한 개인정보처리방침에 동의하십니까?</label>
                        </div>
                    </div>
                </div>
            </div>
            <label for="개인정보처리방침">개인정보처리방침<a style="color: rgb(217, 48, 37);"> *</a></label>
        </div>
        <input type="button" class="btn btn-primary" value="지원하기" id="sumbitting" onclick="submitData()">
        <button class="btn btn-primary" style="display: none;" type="button" id="submited" disabled>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            지원하기
        </button>
    </form>
    <br><br><br>
    <div style="position: fixed; bottom: 0px; z-index: -10; max-height: 40vh;">
        <img src="background.png" width="100%" class="backgroundImage">
    </div>
    <script>
        function addDash(){
            document.getElementById("전화번호").value = document.getElementById("전화번호").value.replace("--", "");
            if(document.getElementById("전화번호").value.length == 3){
                document.getElementById("전화번호").value += "-";
            } else if(document.getElementById("전화번호").value.length == 8){
                document.getElementById("전화번호").value += "-";
            }
            delError("#전화번호")
        }
        function submitData(){
            var checking = [];
            checking[0] = document.getElementById("기획").checked;
            checking[1] = document.getElementById("디자인(일러스트)").checked;
            checking[2] = document.getElementById("디자인(UI/UX)").checked;
            checking[3] = document.getElementById("프론트엔드(웹)").checked;
            checking[4] = document.getElementById("백엔드").checked;
            checking[5] = document.getElementById("DB").checked;
            checking[6] = document.getElementById("iOS").checked;
            checking[7] = document.getElementById("Android").checked;
            var jiwon = "";
            for(var i = 0; i < checking.length; i++){
                if(checking[i]){
                    jiwon += document.getElementsByName("지원분야")[i].value + ", ";
                }
            }
            if($("#성함").val() == ""){
                $("#성함").addClass("is-invalid");
                $("#성함").focus();
                return;
            } else if($("#전화번호").val() == ""){
                $("#전화번호").addClass("is-invalid");
                $("#전화번호").focus();
                return;
            } else if(checking.indexOf(true) == -1){
                $("#지원분야").addClass("is-invalid");
                $("#지원분야").focus();
                return;
            } else if(document.getElementById("개인정보동의").checked == false){
                $("#개인정보동의").addClass("is-invalid");
                $("#개인정보동의").focus();
                return;
            } else{
                document.getElementById("성함").disabled = true;
                document.getElementById("전화번호").disabled = true;
                document.getElementById("이메일").disabled = true;
                if(document.getElementById("이메일").value == ""){
                    document.getElementById("이메일").value = "없음";
                }
                document.getElementById("포트폴리오").disabled = true;
                if(document.getElementById("포트폴리오").value == ""){
                    document.getElementById("포트폴리오").value = "없음";
                }
                document.getElementById("기획").disabled = true;
                document.getElementById("디자인(일러스트)").disabled = true;
                document.getElementById("디자인(UI/UX)").disabled = true;
                document.getElementById("프론트엔드(웹)").disabled = true;
                document.getElementById("백엔드").disabled = true;
                document.getElementById("DB").disabled = true;
                document.getElementById("iOS").disabled = true;
                document.getElementById("Android").disabled = true;
                document.getElementById("개인정보동의").disabled = true;
                document.getElementById("지원분야").disabled = true;
                document.getElementById("sumbitting").style.display = "none";
                document.getElementById("submited").style.display = "inline-block";
                fetch("https://script.google.com/macros/s/AKfycbxCigyXS1xLj-raWP7zcYhw8HzuP9n3fAWKfBkF/exec", {
                    method: "POST",
                    cache: 'no-cache',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: new URLSearchParams({
                        성함: $("#성함").val(),
                        전화번호: $("#전화번호").val(),
                        이메일: $("#이메일").val() == "" ? "없음" : $("#이메일").val(),
                        포트폴리오: $("#포트폴리오").val() == "" ? "없음" : $("#포트폴리오").val(),
                        지원분야: jiwon.substring(0, jiwon.length - 2)
                    }),
                })
                .then(response => {
                    if(response.ok) {
                        document.getElementById("submited").style.display = "none";
                        document.getElementById("sumbitting").style.display = "inline-block";
                        document.getElementById("sumbitting").value = "지원완료";
                        document.getElementById("sumbitting").disabled = true;
                        $("#successModal").modal("show");
                    }
                })
                .catch(error => {
                    document.getElementById("성함").disabled = false;
                    document.getElementById("전화번호").disabled = false;
                    document.getElementById("이메일").disabled = false;
                    if(document.getElementById("이메일").value == "없음"){
                    document.getElementById("이메일").value = "";
                }
                document.getElementById("포트폴리오").disabled = false;
                if(document.getElementById("포트폴리오").value == "없음"){
                    document.getElementById("포트폴리오").value = "";
                }
                    document.getElementById("기획").disabled = false;
                    document.getElementById("디자인(일러스트)").disabled = false;
                    document.getElementById("디자인(UI/UX)").disabled = false;
                    document.getElementById("프론트엔드(웹)").disabled = false;
                    document.getElementById("백엔드").disabled = false;
                    document.getElementById("DB").disabled = false;
                    document.getElementById("iOS").disabled = false;
                    document.getElementById("Android").disabled = false;
                    document.getElementById("개인정보동의").disabled = false;
                    document.getElementById("지원분야").disabled = false;
                    document.getElementById("sumbitting").style.display = "inline-block";
                    document.getElementById("submited").style.display = "none";
                    $("#failModal").modal("show");
                })
            }
        }
        function delError(id){
            $(id).removeClass("is-invalid");
        }
    </script>
</body>
</html>
